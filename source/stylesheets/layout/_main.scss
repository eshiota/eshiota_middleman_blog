/*******************************************************************************
*
*  Layout Â» Main
*
*  All base styles for the layout, including grid, are defined here.
*
*  Quick proportions guide:
*
*    100%
*    38.197%
*    14.589%
*     5.57256%
*     2.128550743%
*      .813042527%
*
*  Sticky footer guide:
*
*    http://www.cssstickyfooter.com/using-sticky-footer-code.html
*
*  Layout structure:
*
*    <div class="blog-wrapper">
*      <div class="blog-main">
*        <header class="blog-header">
*          Logo and nav
*        </header>
*
*        <div class="blog-content">
*          Some article
*        </div>
*      </div>
*
*      <footer class="blog-footer">
*      </footer>
*    </div>
*
*******************************************************************************/

body {
  background-color: $BACKGROUND_COLOR;
}

.blog-wrapper {
  min-height: 100%;
}

.blog-main {
  @include clearfix;
  padding-bottom: 27em;
}

/*********************************************************************
*  =Header
*********************************************************************/

.blog-header {
  @include box-sizing(border-box);
  width: 38.197%;
  padding-top: 14.589vh;
  padding-left: 14.589%;
  padding-right: 5.57256%;
  float: left;
}

.blog-header .logo {
  font-size: 100%; // resets to context font size
  width: em(233px);
  height: em(48px);
  margin-bottom: 1.5em;
}

.blog-header .logo img {
  width: 100%;
}

.blog-header .intro {
  font-size: em(14px);
}

/* ==Navigation
**********************************************/
.blog-header .nav {
  @include column-count(2);
  @include column-gap(1em);
}

.blog-header .nav li {
  @include box-sizing(border-box);
  font-size: em(14px);
  text-transform: uppercase;
  font-weight: 900;
  position: relative;
  padding-left: em(32px, 14px);
  margin-bottom: em(16px, 14px);

  &:last-child { margin-bottom: 0; }
}

.blog-header .nav li:before {
  content: "";
  display: block;
  width: em(24px, 14px);
  height: em(24px, 14px);
  background-size: cover;
  background-repeat: no-repeat;
  position: absolute;
  left: 0;
  top: 50%;
  margin-top: em(-12px, 14px);
}

.blog-header .nav .twitter:before {
  background-image: inline-image("icon_twitter.svg");
}

.blog-header .nav .github:before {
  background-image: inline-image("icon_github.svg");
}

.blog-header .nav .linkedin:before {
  background-image: inline-image("icon_linkedin.svg");
}

.blog-header .nav .about:before {
  background-image: inline-image("icon_shiota.svg");
}

.blog-header .nav .blog:before {
  background-image: inline-image("icon_blog.svg");
}

.blog-header .nav .email:before {
  background-image: inline-image("icon_email.svg");
}

/*********************************************************************
*  =Content
*********************************************************************/

.blog-content {
  @include box-sizing(border-box);
  width: 61.803%;
  padding-top: 14.589vh;
  padding-left: 5.57256%;
  padding-right: 14.589%;
  float: right;
}

.blog-content :last-child {
  margin-bottom: 0;
}

/*********************************************************************
*  =Footer
*********************************************************************/

.blog-footer {
  @include clearfix;
  @include box-sizing(border-box);
  width: 100%;
  clear: both;
  padding: em(48px) 14.589% 0;
  position: relative;
  margin-top: -24em;
  height: 24em;
  overflow: hidden;
  background: $LINK_COLOR;
  color: $BACKGROUND_COLOR;
}

.blog-footer a {
  @include colorful-links($BACKGROUND_COLOR);
}

.footer-block {
  @include box-sizing(border-box);
  float: left;
  width: 33%;
  padding: 0 em(16px);
}

.footer-block-title {
  padding-top: 0;
  padding-left: em(32px);
  text-transform: uppercase;
  position: relative;
  margin-left: em(-32px);
}

.footer-block-title:before {
  content: "";
  display: block;
  width: em(24px);
  height: em(24px);
  background-size: cover;
  background-repeat: no-repeat;
  position: absolute;
  left: 0;
  top: -1px; // compensating the uppercasing
}

/* ==Feeds
**********************************************/
.feeds-block {
  padding-left: 0;
}

.feeds-block .footer-block-title:before {
  background-image: inline-image("icon_feeds.svg");
}

.feeds-block .feeds-list {
  padding: 0;
  margin: 0;
  list-style: none outside;
}

/* ==Instagram
**********************************************/
.instagram-block {
  padding-right: 0;
  width: 66.6%;
}

.instagram-block .footer-block-title:before {
  background-image: inline-image("icon_instagram.svg");
}

/* ==Colophon
**********************************************/
.blog-footer .colophon {
  clear: both;
  text-align: center;
  font-style: italic;
  font-size: em(12px);
  margin: 0;
  position: absolute;
  bottom: 0;
  left: 0;
  right: 0;
}

.blog-footer .colophon .footer-block-title {
  display: none;
}

/*********************************************************************
*  =Media Queries
*********************************************************************/

@media (min-width: 1300px) {
  // 16px = too many CPL
  body {
    font-size: 106.25%; // 17px
  }
}

@media (min-width: 1600px) {
  // 17px = too many CPL
  body {
    font-size: 112.5%; // 18px
  }
}

@media (max-width: 1180px) {
  // Article column is too narrow for a 16px font-size
  body {
    font-size: 93.75%; // 15px
  }

  // Header is too narrow for a two-column menu
  .blog-header .nav {
    @include column-count(1);
    @include column-gap(0);
  }
}

@media (max-width: 1024px) {
  // Reset to 16px
  body {
    font-size: 100%; // 16px
    overflow: hidden;
  }

  .blog-header,
  .blog-content {
    float: none;
    width: 100%;
    padding-left: 14.589%;
    padding-right: 14.589%;
  }

  .blog-header {
    @include clearfix;
    padding-top: 5.57256vh;
    position: relative;
  }

  .blog-header .logo {
    width: em(204px);
    height: em(42px);
    float: left;
    margin-right: em(24px);
    margin-top: em(4px);
  }

  .blog-header .intro {
    color: adjust-color($TEXT_COLOR, $lightness: +20%);
  }

  .blog-header .nav {
    @include column-count(auto);
    @include column-gap(normal);
    @include box-sizing(border-box);
    @include single-transition(right, .25s, ease-out);
    border-radius: 5px 0 0 5px;
    position: absolute;
    right: em(-86px);
    top: 5.57256vh;
    width: em(126px);
    background: adjust-color(#fff, $lightness: -4%);
    padding: em(10px);
  }

  .blog-header .nav:hover {
    right: 0;
  }

  .blog-content {
    padding-top: 5.57256vh;
    // One column, larger font on content form optimum CPL
    font-size: em(18px);
  }
}

@media (max-width: 976px) {
  .blog-header .logo {
    width: em(165px);
    height: em(34px);
    margin-top: em(4px);
  }

  .blog-header .intro {
    font-size: em(12px);
  }
}

@media (max-width: 880px) {
  .blog-content {
    font-size: em(16px);
  }
}

@media (max-width: 790px) {
  .blog-header .logo {
    float: none;
  }
}

@media (max-width: 720px) {
  .blog-content {
    font-size: em(15px);
  }
}

@media (max-width: 640px) {
  // Here I felt I had to change the first two headings, as they were too
  // large, even using proportinal sizes.
  h1 {
    font-size: em(42px, $CONTEXT_FONT_SIZE);
  }

  h2 {
    font-size: em(36px, $CONTEXT_FONT_SIZE);
  }

  .blog-content {
    font-size: em(14px);
  }
}

@media (max-width: 490px) {
  .blog-content {
    font-size: em(13px);
  }
}
